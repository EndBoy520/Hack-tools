# arping

github:https://github.com/ThomasHabets/arping

## arping-简介

这是一款把ping玩出花的命令~



### 各选项功能及使用方法

1. **`-0` 选项**
   - **功能**：使用此选项可以将源 IP 地址设置为 `0.0.0.0` 进行 `ping` 操作。当你还未对网络接口进行配置时可使用该选项。不过要注意，这样可能会导致 MAC 地址 `ping` 操作得不到回应，它是 `-S 0.0.0.0` 的别名。
   - **示例**：`arping -0 <目标IP地址>`
2. **`-a` 选项**
   - **功能**：可实现可听的 `ping`，也就是在操作时有声音提示。
   - **示例**：`arping -a <目标IP地址>`
3. **`-A` 选项**
   - **功能**：仅对匹配所请求地址的回复进行计数。需要注意的是，这个选项会破坏大部分常规操作，通常仅在同时对多个主机进行 `arping` 操作时才有用，可参考 `arping-scan-net.sh` 示例脚本。
   - **示例**：`arping -A <目标IP地址>`
4. **`-b` 选项**
   - **功能**：类似于 `-0` 选项，但它将源广播地址设置为 `255.255.255.255`。不过要注意，由于这并非主机的常规行为，可能会导致 `arping` 操作得不到回应。
   - **示例**：`arping -b <目标IP地址>`
5. **`-B` 选项**
   - **功能**：如果你想要将目标地址设置为 `255.255.255.255` 进行操作时，使用该选项来替代在命令中指定具体主机地址。
   - **示例**：`arping -B`
6. **`-c count` 选项**
   - **功能**：用于指定仅发送指定数量（`count`）的请求。例如设置发送 5 次请求，就将 `count` 替换为 5。
   - **示例**：`arping -c 5 <目标IP地址>`
7. **`-C count` 选项**
   - **功能**：不管 `-c` 选项以及超时设置（`-w` 选项相关）如何，只等待指定数量（`count`）的回复。
   - **示例**：`arping -C 3 <目标IP地址>`
8. **`-d` 选项**
   - **功能**：用于查找重复的回复。如果存在来自两个不同 MAC 地址的回复，将以退出码 1 退出程序。
   - **示例**：`arping -d <目标IP地址>`
9. **`-D` 选项**
   - **功能**：将回复显示为感叹号，而丢失的数据包显示为点号，以这种方式来展示操作结果。
   - **示例**：`arping -D <目标IP地址>`
10. **`-e` 选项**
    - **功能**：与 `-a` 选项类似，但在没有回复时会发出蜂鸣声提示。
    - **示例**：`arping -e <目标IP地址>`
11. **`-F` 选项**
    - **功能**：不尝试对接口名称进行智能处理（即使不给出此开关，`-i` 选项也会覆盖智能处理相关逻辑）。
    - **示例**：`arping -F -i <接口名称> <目标IP地址>`
12. **`-g group` 选项**
    - **功能**：使用 `setgid()` 将组设置为指定的组（`group`），而不是默认的 `nobody` 组。
    - **示例**：`arping -g <指定组名> <目标IP地址>`
13. **`-h` 选项**
    - **功能**：用于显示帮助信息并退出程序，方便查看各选项说明等内容。
    - **示例**：`arping -h`
14. **`-i interface` 选项**
    - **功能**：指定要使用的网络接口，比如指定使用名为 `eth0` 的网络接口来进行 `arping` 操作。
    - **示例**：`arping -i eth0 <目标IP地址>`
15. **`-m type` 选项**
    - **功能**：指定用于传入数据包的时间戳类型。在进行 `ping` 操作时可以使用 `-vv` 选项来列出可用的时间戳类型。
    - **示例**：`arping -m <时间戳类型> <目标IP地址>`
16. **`-q` 选项**
    - **功能**：除了错误消息外，不显示其他常规消息，使输出更简洁，只呈现关键的错误提示内容。
    - **示例**：`arping -q <目标IP地址>`
17. **`-Q pri` 选项**
    - **功能**：设置 `802.1p` 优先级（`pri`），通常需要和 `802.1Q`（`-V` 选项）一起使用，默认优先级为 0。
    - **示例**：`arping -Q 3 -V 10 <目标IP地址>`（假设设置优先级为 3 且添加 VLAN 标签为 10）
18. **`-r` 选项**
    - **功能**：以原始输出形式展示，对于每个回复仅显示 MAC 地址 / IP 地址，去除其他多余的信息展示。
    - **示例**：`arping -r <目标IP地址>`
19. **`-R` 选项**
    - **功能**：同样是原始输出形式，但与 `-r` 有所不同，它可以显示 “另一个” 相关内容，并且可以和 `-r` 选项结合使用。
    - **示例**：`arping -R <目标IP地址>` 或 `arping -rR <目标IP地址>`
20. **`-s MAC` 选项**
    - **功能**：用于设置源 MAC 地址。可能需要结合 `-p` 选项一起使用，特别是当你使用的不是自己 “拥有” 的 MAC 地址时。
    - **示例**：`arping -s <源MAC地址> -p <目标IP地址>`
21. **`-S IP` 选项**
    - **功能**：类似于 `-b` 和 `-0` 选项，但可以设置指定的源地址（`IP`）。需要注意的是，如果目标没有到该 IP 的路由，可能会导致 `arping` 操作得不到回应。若使用的不是自己拥有的 IP，可能还需要开启接口的混杂模式（使用 `-p` 选项）。通过此选项可以在不占用自己 IP 地址的情况下查出主机对应的 IP 地址。
    - **示例**：`arping -S <源IP地址> <目标IP地址>`
22. **`-t MAC` 选项**
    - **功能**：在对 IP 地址进行 `ping` 操作时，设置要使用的目标 MAC 地址。
    - **示例**：`arping -t <目标MAC地址> <目标IP地址>`
23. **`-T IP` 选项**
    - **功能**：当对那些不会响应广播 `ping` 但可能响应定向广播的 MAC 地址进行 `ping` 操作时，使用 `-T` 指定目标地址。例如已知 `MAC-B` 和 `IP-B` 的情况下，检查 `MAC-A` 的地址，可按示例操作。
    - **示例**：`arping -S <IP-B> -s <MAC-B> -p <MAC-A>`
24. **`-p` 选项**
    - **功能**：开启接口的混杂模式，在你使用的不是自己 “拥有” 的 MAC 地址时需要使用该选项。
    - **示例**：`arping -p <目标IP地址>`
25. **`-P` 选项**
    - **功能**：发送 ARP 回复而不是请求，通常与 `-U` 选项配合使用会比较有用。
    - **示例**：`arping -P -U <目标IP地址>`
26. **`-u` 选项**
    - **功能**：在对 MAC 地址进行 `ping` 操作时，显示 `index=received/sent` 的形式，而不只是显示 `index=received`。
    - **示例**：`arping -u <目标MAC地址>`
27. **`-U` 选项**
    - **功能**：发送未经请求的 ARP 消息。
    - **示例**：`arping -U <目标IP地址>`
28. **`-v` 选项**
    - **功能**：启用详细输出模式，显示更多的操作相关信息。使用两次（`-vv`）可以获取更详细的消息内容。
    - **示例**：`arping -v <目标IP地址>` 或 `arping -vv <目标IP地址>`
29. **`-V num` 选项**
    - **功能**：添加 `802.1Q` VLAN 标签（`num`），默认不添加 VLAN 标签。
    - **示例**：`arping -V 5 <目标IP地址>`（假设添加 VLAN 标签值为 5）
30. **`-w sec` 选项**
    - **功能**：指定一个超时时间（`sec`，单位为秒），无论已经发送或接收了多少数据包，到达该超时时间后 `ping` 操作就会退出。
    - **示例**：`arping -w 5 <目标IP地址>`（表示超时时间设置为 5 秒）
31. **`-W sec` 选项**
    - **功能**：设置每次 `ping` 操作之间等待的时间（`sec`，单位为秒）。
    - **示例**：`arping -W 2 <目标IP地址>`（表示每次 `ping` 操作间隔等待 2 秒）
32. **`-z` 选项**
    - **功能**：启用 seccomp（一种系统调用过滤机制）。
    - **示例**：`arping -z <目标IP地址>`
33. **`-Z` 选项**
    - **功能**：禁用 seccomp，这是默认的状态设置。
    - **示例**：`arping -Z <目标IP地址>`

## 